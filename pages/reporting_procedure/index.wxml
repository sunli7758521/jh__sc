<form bindsubmit="formSubmit">
  <view class="name_area">
    <view class="name_title">项目名称:</view>
    <picker bindchange="bindProjectNamePickerChange" range="{{projectNameArray}}" value="{{projectNameArray[projectNameIndex].id}}" range-key="{{'projectName'}}" style="width:100%">
      <view class="picker">
        {{projectNameDefault}}
        <!-- {{taskNameArray[taskNameIndex].taskName}} -->
      </view>
    </picker>
  </view>
  <view class="name_area">
    <view class="name_title">作业单名称:</view>
    <picker bindchange="bindTaskNamePickerChange" range="{{taskNameArray}}" value="{{taskNameArray[taskNameIndex].id}}" range-key="{{'taskName'}}" style="width:100%">
      <view class="picker">
        {{taskNameDefault}}
        <!-- {{taskNameArray[taskNameIndex].taskName}} -->
      </view>
    </picker>
  </view>
  <view class="sex_area">
    <view class="name_title">作业单编号:</view>
    <span class="name_input" name="taskCode">{{taskCode}}</span>
  </view>
  <view class="city_area">
    <view class="name_title">窗号:</view>
    <picker name='winNo' bindchange="bindWinNoPickerChange" range="{{winNoArray}}" value="{{winNoArray[winNoIndex].id}}" range-key="{{'winNo'}}" style="width: 100%">
      <view class="picker">
        <!-- {{winNoArray[winNoIndex].winNo}} -->
        {{winNoDefault}}
      </view>
    </picker>
  </view>
  <view class="name_area_winType">
    <view class="name_title">窗型:</view>
    <span class="name_input" name="taskWinType" value="taskWinType">{{winModelName}}</span>
  </view>
  
  <view class="name_area" wx:if="{{processGroupArray!=''}}">
    <view class="name_title">工序组:</view>
    <picker bindchange="bindProcessGroupPickerChange" range="{{processGroupArray}}" value="{{processGroupArray[processGroupIndex]}}" range-key="{{}}" style="width: 100%">
      <view class="picker">
        {{processGroupDefault}}
        <!-- {{processGroupArray[processGroupIndex].name}} -->
      </view>
    </picker>
  </view>
  
  <text wx:if="errInfoTable" class="errInfo">{{errInfoTable}}</text>
  <view class="table" wx:if="{{tableView}}">
    <view class="tr bg-w">
      <view class="th">序号</view>
      <view class="th">工序</view>
      <view class="th">单位</view>
      <view class="th">单价</view>
      <view class="th">总量</view>
      <view class="th">剩余量</view>
      <view class="th">报工</view>
    </view>
    <!-- <scroll-view scroll-x="true" scroll-y="true" style='height:{{tbodyHeight}}px;'> -->
      <block wx:for="{{processArray}}" wx:key="processArray">
        <view class="tr bg-g">
          <view class="td">{{index+1}}</view>
          <view class="td">{{item.processNormName}}</view>
          <view class="td">{{item.unit}}</view>
          <view class="td">{{item.price}}</view>
          <view class="td">{{item.totalNeedNum}}</view>
          <view class="td">{{item.leftNeedNum}}</view>
          <view class="td">
            <input data-index="{{index+1}}" data-unit="{{item.unit}}" data-price="{{item.price}}" data-processNormName="{{item.processNormName}}" data-processNormId="{{item.processNormId}}" data-taskDetailId="{{item.taskDetailId}}" data-processtype="{{item.processType}}"  data-leftNeedNum="{{item.leftNeedNum}}" data-isMilestone="{{item.isMilestone}}" data-milestoneClassify="{{item.milestoneClassify}}" value='{{inputValue}}' type="number" maxlength="9" name="doneNum{{index}}" placeholder="请输入" class='table_input' bindblur="doneInput"></input>
          </view>
        </view>
      </block>
    <!-- </scroll-view> -->
  </view>

  <!-- <text wx:if="errInfo" class="errInfo">{{errInfo}}</text> -->
  <!-- <button form-type="submit" type="primary">提交</button> -->
  <!-- <button form-type="reset" type="primary">重置</button> -->
</form>